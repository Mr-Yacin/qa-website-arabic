@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base typography and RTL styles */
@layer base {
  html {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans Arabic', sans-serif;
    direction: rtl;
  }
  
  body {
    @apply min-h-screen bg-zinc-50 text-zinc-900 dark:bg-zinc-950 dark:text-zinc-50;
  }
  
  /* Smooth scrolling for anchor links */
  html {
    scroll-behavior: smooth;
  }
  
  /* Enhanced focus styles for accessibility */
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-indigo-500 dark:outline-indigo-400;
  }
  
  /* Ensure interactive elements have proper focus rings */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    @apply ring-2 ring-indigo-500 ring-offset-2 dark:ring-indigo-400 dark:ring-offset-zinc-950 outline-none;
  }
  
  /* Skip to main content link for screen readers */
  .skip-to-main {
    @apply absolute -top-40 left-6 bg-indigo-600 text-white px-4 py-2 rounded-md z-50 transition-all duration-200;
  }
  
  .skip-to-main:focus {
    @apply top-6;
  }
}

/* Component layer for reusable patterns */
@layer components {
  /* Container styles */
  .container {
    @apply max-w-3xl mx-auto px-4 md:px-6;
  }
  
  /* Button base styles with enhanced accessibility */
  .btn {
    @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 dark:focus-visible:ring-indigo-400 dark:focus-visible:ring-offset-zinc-950 disabled:pointer-events-none disabled:opacity-50 hover:transform hover:scale-105 active:scale-95;
  }
  
  .btn-primary {
    @apply bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-lg dark:bg-indigo-500 dark:hover:bg-indigo-600;
  }
  
  .btn-secondary {
    @apply bg-zinc-100 text-zinc-900 hover:bg-zinc-200 hover:shadow-md dark:bg-zinc-800 dark:text-zinc-100 dark:hover:bg-zinc-700;
  }
  
  /* Card styles */
  .card {
    @apply rounded-lg border border-zinc-200 bg-white p-6 shadow-sm dark:border-zinc-800 dark:bg-zinc-900;
  }
  
  /* Enhanced link styles with better hover states */
  .link {
    @apply text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300 underline-offset-4 hover:underline transition-colors duration-200 focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 dark:focus-visible:ring-indigo-400 dark:focus-visible:ring-offset-zinc-950 rounded-sm;
  }
  
  /* Enhanced tag/pill styles with hover states */
  .tag {
    @apply inline-flex items-center rounded-full bg-zinc-100 px-2.5 py-0.5 text-xs font-medium text-zinc-800 dark:bg-zinc-800 dark:text-zinc-200 transition-colors duration-200 hover:bg-zinc-200 dark:hover:bg-zinc-700;
  }
  
  .tag-primary {
    @apply bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300 hover:bg-indigo-200 dark:hover:bg-indigo-900/50;
  }
  
  /* Interactive tag styles for links */
  .tag-link {
    @apply tag tag-primary focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 dark:focus-visible:ring-indigo-400 dark:focus-visible:ring-offset-zinc-950 cursor-pointer;
  }
}

/* Utility layer for custom utilities */
@layer utilities {
  /* RTL-specific utilities */
  .rtl-flip {
    transform: scaleX(-1);
  }
  
  /* Prose styles for Arabic content */
  .prose-rtl {
    @apply prose prose-zinc dark:prose-invert max-w-none;
    direction: rtl;
    text-align: right;
  }
  
  .prose-rtl h1,
  .prose-rtl h2,
  .prose-rtl h3,
  .prose-rtl h4,
  .prose-rtl h5,
  .prose-rtl h6 {
    text-align: right;
  }
  
  .prose-rtl ul,
  .prose-rtl ol {
    padding-right: 1.625em;
    padding-left: 0;
  }
  
  .prose-rtl blockquote {
    border-right: 0.25rem solid #e4e4e7;
    border-left: none;
    padding-right: 1em;
    padding-left: 0;
  }
  
  .dark .prose-rtl blockquote {
    border-right-color: #3f3f46;
  }
}
